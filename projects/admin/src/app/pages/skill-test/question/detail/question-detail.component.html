<div class="container">
  <button pButton pRipple class="p-button-secondary" label="Back" routerLink="/questions" style="margin-top: 0.5rem;"></button>
  <h2>Question Detail</h2>
  <h3>Question: </h3>

  <form class="edit-form">
    <textarea pInputTextarea rows="4" cols="50" id="question" name="question" [value]="questions.question"
      disabled></textarea>
  </form>
  <button pButton class="edit-button" (click)="editQuestion(questions.questionId)" icon="pi pi-pencil"
    label="Edit Question"></button>

  <p-table [value]="questions.listQuestionOption" class="options-table">
    <ng-template pTemplate="header">
      <tr>
        <th>No</th>
        <th>Option</th>
        <th>Answer</th>
        <th>Action</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-option let-i="rowIndex">
      <tr>
        <td>{{ i + 1 }}</td>
        <td>{{option.labels}}</td>
        <td>{{option.isAnswer}}</td>
        <td>
          <button pButton (click)="editOption(i)" icon="pi pi-pencil" label="Edit"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

<!-- Modal Update-->
<p-dialog header="Update Question" [(visible)]="visibleUpdateQuestion" [style]="{ width: '30vw' }">
  <pre>{{questionUpdateReqDto.value | json}}</pre>
  <form [formGroup]="questionUpdateReqDto" (ngSubmit)="updateQuestion()">
    <div class="grid surface-card border-round-sm border-400">
      <div class="col-12 md:col-3">
        <label for="inputName">Question</label>
      </div>
      <div class="col-12 md:col-9">
        <input pInputText type="text" class="col-12 " id="inputName" required formControlName="question">
      </div>
      <div class="flex flex-wrap justify-content-end mt-2 col-12">
        <button type="submit" pButton pRipple class="p-button-primary"
          [disabled]="questionUpdateReqDto.invalid">Submit</button>
      </div>
    </div>
  </form>
</p-dialog>